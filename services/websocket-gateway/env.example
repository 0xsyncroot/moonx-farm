# ================================================================
# WebSocket Gateway Environment Configuration
# ================================================================

# ================================================================
# SERVER CONFIGURATION
# ================================================================
NODE_ENV=development
LOG_LEVEL=info

# WebSocket Gateway Server
WEBSOCKET_GATEWAY_HOST=localhost
WEBSOCKET_GATEWAY_PORT=3007

# Service URLs
AUTH_SERVICE_URL=http://localhost:3001
AUTH_TIMEOUT=5000

# ================================================================
# CONNECTION SETTINGS
# ================================================================

# Maximum connections per instance
MAX_CONNECTIONS=10000

# Connection timeouts (milliseconds)
CONNECTION_TIMEOUT=30000
PING_TIMEOUT=60000
PING_INTERVAL=25000
HEARTBEAT_INTERVAL=25000
HEARTBEAT_TIMEOUT=5000

# Buffer sizes
MAX_HTTP_BUFFER_SIZE=1000000
MAX_DISCONNECTION_DURATION=180000

# Transport settings
TRANSPORTS=websocket,polling
ENABLE_COMPRESSION=false
ENABLE_HEARTBEAT=true

# ================================================================
# REDIS CONFIGURATION
# ================================================================

# Redis connection (use REDIS_URL for full connection string or individual settings)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis settings
REDIS_KEY_PREFIX=moonx:wsg:
REDIS_FAMILY=4
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_LAZY_CONNECT=true
REDIS_ENABLE_METRICS=true
REDIS_ENABLE_OFFLINE_QUEUE=true

# ================================================================
# CORS & SECURITY
# ================================================================

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_METHODS=GET,POST
CORS_CREDENTIALS=true

# ================================================================
# PRODUCTION SETTINGS (uncomment for production)
# ================================================================

# NODE_ENV=production
# LOG_LEVEL=warn
# ENABLE_COMPRESSION=true
# MAX_CONNECTIONS=100000
# REDIS_ENABLE_METRICS=false 